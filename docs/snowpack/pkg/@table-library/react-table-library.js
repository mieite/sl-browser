import { e as e$1, b, j as jsx, p as p$1, i as i$2, n as n$2, c as css, a as e$2, Z, d as a$3, u as u$1, A as A$1, X, f as u$2, G, r as r$3, g as d$1, h as e$3, t as t$1 } from '../common/sort-d783cdb4-0d3f0afb.js';
export { v as HeaderCell } from '../common/sort-d783cdb4-0d3f0afb.js';
import { r as react } from '../common/index-448fcd18.js';
import '../common/_commonjsHelpers-79ede638.js';

var i=react.createContext(null),a=function(c){return "svg"===c.target.tagName||"path"===c.target.tagName||"DIV"===c.target.tagName||"SPAN"===c.target.tagName||"TD"===c.target.tagName},d=["index","className","hide","pinLeft","pinRight","stiff","includePreviousColSpan","previousColSpans","gridColumnStart","gridColumnEnd","onClick","children","style"];function r(c,g){var t=Object.keys(c);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(c);g&&(l=l.filter((function(g){return Object.getOwnPropertyDescriptor(c,g).enumerable}))),t.push.apply(t,l);}return t}function s(c){for(var g=1;g<arguments.length;g++){var t=null!=arguments[g]?arguments[g]:{};g%2?r(Object(t),!0).forEach((function(g){e$2(c,g,t[g]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(t,g));}));}return c}var A=function(C){C.index;var i=C.className,a=C.hide,r=C.pinLeft,A=C.pinRight,u=C.stiff,o=C.includePreviousColSpan,m=C.previousColSpans,G=C.gridColumnStart,p=C.gridColumnEnd,W=C.onClick,N=C.children,y=C.style,x=e$1(C,d),H=react.useContext(b),Z=G&&p,J=Z?p-G-1:0,X=o?G+m:G,V=o?p+m:p;return jsx(react.Fragment,null,jsx(p$1,n$2({role:"gridcell","data-table-library_td":"",style:s(s({},Z?{gridColumnStart:X,gridColumnEnd:V}:{}),y),css:css(null==H?void 0:H.BaseCell," ",null==H?void 0:H.Cell,";"+(""),""),className:i$2("td",i,{stiff:u,hide:a,"pin-left":r,"pin-right":A}),onClick:W},x),jsx("div",null,N)),Array.from({length:J},(function(){return jsx(p$1,{className:i$2("td","hide","colspan")})})))};

var r$1=react.createContext(null),s$1=react.createContext(null),u=function(){var n=react.useState(!1),o=a$3(n,2),r=o[0],s=o[1];return react.useEffect((function(){var e=function(e){e.shiftKey?s(!0):r&&s(!1);},t=function(){r&&s(!1);};return document&&(document.addEventListener("keydown",e),document.addEventListener("keyup",t)),function(){document&&(document.removeEventListener("keydown",e),document.removeEventListener("keyup",t));}}),[r]),r},a$1=function(){return {select:react.useContext(r$1),tree:react.useContext(i),sort:react.useContext(Z),pagination:react.useContext(s$1)}};

var o=function(o){var i=o.sort,t=o.pagination,a=o.tree;return function(o){var e=u$1(o);return e=i?i.modifier(e):e,e=t?t.modifier(e):e,e=a?a.modifier(e):e}};

var n=function(n){return n.reduce((function(n,r){return Object.keys(r).forEach((function(c){n[c]||(n[c]=""),n[c]="\n        ".concat(n[c],"\n        ").concat(r[c],"\n      ");})),n}),{})},r$2=function(r){return Array.isArray(r)?n(r):r};

var n$1=["children"],o$1=function(G){var o=G.children,e=e$1(G,n$1),i=react.useContext(b),t=react.useContext(A$1);if(!t)throw new Error("No Layout Context.");var u=t.layout,X=null!=u&&u.isDiv?"div":"tbody";return jsx(X,n$2({css:css(null==i?void 0:i.Body," display:contents;"+(""),""),"data-table-library_body":"",className:"tbody"},e),o)},e=["isFooter","children"],i$1=function(n){var o=n.isFooter,i=n.children,t=e$1(n,e),u=react.useContext(b),X=react.useContext(A$1);if(!X)throw new Error("No Layout Context.");var y=X.layout,a=null!=y&&y.isDiv?"div":o?"tfoot":"thead";return jsx(a,n$2({role:"rowgroup",className:i$2({tfoot:o,thead:!o}),css:css("\n  display: contents;\n"," ",o?null==u?void 0:u.Footer:null==u?void 0:u.Header,";"+(""),"")},t),react.Children.map(i,(function(I){if(react.isValidElement(I))return react.cloneElement(I)})))};

var x=react.createContext(null),B=["data","theme","layout","sort","pagination","select","tree","onInit","className","children"],v={Table:"\n    height: 100%;\n  "},h=react.forwardRef((function(b$1,C){var e=b$1.data,n=b$1.theme,A=b$1.layout,X$1=b$1.sort,y=b$1.pagination,s=b$1.select,Y=b$1.tree,V=b$1.onInit,h=void 0===V?function(){}:V,H=b$1.className,F=void 0===H?"table":H,p=b$1.children,N=e$1(b$1,B),R=function(I){var g=react.useRef(null);return I&&(g=I),g}(C),S=function(I){var g=react.useRef(null);return g.current||(g.current={onlyOnce:!1,dataColumns:[]}),g}(),f=o({sort:X$1,pagination:y,tree:Y,select:s})(e.nodes),U=function(I,g){var c=react.useState(!1),l=a$3(c,2),b=l[0],C=l[1];return [b,function(c){c&&(b||(C(!0),g.current=c,I(c)));}]}(h,R),Q=a$3(U,2),j=Q[0],L=Q[1],z=u(),k=[];null!=A&&A.fixedHeader&&(k=k.concat(v)),n&&(k=k.concat(n));var w,D=r$2(k),O=null!=A&&A.isDiv?"div":"table";return jsx(O,n$2({role:"grid","data-table-library_table":"",css:css((w={isShiftDown:z},"\n  *,\n  *:before,\n  *:after {\n    box-sizing: border-box;\n  }\n\n  overflow: auto;\n  position: relative;\n\n  border-collapse: collapse;\n\n  display: grid;\n\n  --data-table-library_grid-template-columns: '';\n  grid-template-columns: var(--data-table-library_grid-template-columns);\n\n  button * {\n    pointer-events: none;\n  }\n\n  ".concat(w.isShiftDown?"\n    user-select: none; /* standard syntax */\n    -webkit-user-select: none; /* webkit (safari, chrome) browsers */\n    -moz-user-select: none; /* mozilla browsers */\n    -khtml-user-select: none; /* webkit (konqueror) browsers */\n    -ms-user-select: none; /* IE10+ */\n    ":"","\n  "))," ",null==D?void 0:D.Table,";"+(""),""),className:i$2(F),ref:L},N),j&&jsx(x.Provider,{value:e},jsx(b.Provider,{value:D},jsx(Z.Provider,{value:X$1},jsx(r$1.Provider,{value:s},jsx(i.Provider,{value:Y},jsx(s$1.Provider,{value:y},jsx(X,{layout:A,tableElementRef:R,tableMemoryRef:S},p&&p(f)))))))))})),H=function(){return "\n  display: contents;\n\n  ".concat((function(){}),"\n  background-color: #ffffff;\n")},F=react.forwardRef((function(I,c){var l=react.useContext(A$1);if(!l)throw new Error("No Layout Context.");var C=l.layout,e=null!=C&&C.isDiv?"div":"tr";return jsx(e,n$2({css:css(H(),";"+(""),""),ref:c},I))})),p=react.forwardRef((function(I,c){var l=react.useContext(A$1);if(!l)throw new Error("No Layout Context.");var C=l.layout,e=null!=C&&C.isDiv?"div":"tr";return jsx(e,n$2({css:css(H(),";"+(""),""),ref:c},I))})),N=function(I){return I.type?I.type===react.Fragment:I===react.Fragment},R=function(I,g){return react.Children.toArray(I).reduce((function(I,c,l){return react.isValidElement(c)?l>=g?I:c.props.gridColumnStart||c.props.gridColumnEnd?I+c.props.gridColumnEnd-c.props.gridColumnStart-1:I:I}),0)},S=["className","role","isFooter","children"];function f(I,g){var c=Object.keys(I);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(I);g&&(l=l.filter((function(g){return Object.getOwnPropertyDescriptor(I,g).enumerable}))),c.push.apply(c,l);}return c}function U(I){for(var g=1;g<arguments.length;g++){var c=null!=arguments[g]?arguments[g]:{};g%2?f(Object(c),!0).forEach((function(g){e$2(I,g,c[g]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(c)):f(Object(c)).forEach((function(g){Object.defineProperty(I,g,Object.getOwnPropertyDescriptor(c,g));}));}return I}var Q=function(l){var t,u=l.className,X=l.role,W=void 0===X?"rowheader":X,J=l.isFooter,a=l.children,y=e$1(l,S),m=react.useContext(b),s=react.useRef(null);return t=react.useContext(A$1),react.useLayoutEffect((function(){var I;if(!t)throw new Error("No Layout Context.");var g=t.layout,c=t.tableElementRef,l=t.tableMemoryRef,b=u$2(c).map(G);if(null===(I=l.current)||void 0===I||!I.onlyOnce)if(l.current.onlyOnce=!0,null!=g&&g.resizedLayout){var Z=null==g?void 0:g.resizedLayout;r$3(Z,c,l);}else if(null!=g&&g.custom)d$1(c,l);else {var d=b.filter((function(I){return !I.isHide})).map((function(){return "minmax(0px, 1fr)"})).join(" ");r$3(d,c,l);}}),[t]),jsx(p,n$2({role:W,"data-table-library_tr-header":"",css:css(null==m?void 0:m.BaseRow," ",J?null==m?void 0:m.FooterRow:null==m?void 0:m.HeaderRow,";"+(""),""),className:i$2("tr",u,{"tr-footer":J,"tr-header":!J}),ref:s},y),react.Children.toArray(a).filter(Boolean).map((function(I,g){if(react.isValidElement(I)){var c={};return N(I)||(c=U(U({},c),{},{index:g,previousColSpans:R(a,g)})),react.cloneElement(I,c)}})))},j=function(){},L=function(I,g,c,l){!function(I){var g=I.onSingleClick,c=I.onDoubleClick,l=I.ref,b=react.useRef(0);react.useEffect((function(){var I=l.current,C=function(I){c&&(0===b.current&&g(I),b.current+=1,setTimeout((function(){2===b.current&&c(I),b.current=0;}),300));};return null==I||I.addEventListener("click",C),function(){null==I||I.removeEventListener("click",C);}}));}({onSingleClick:g?function(I){return g(l,I)}:j,onDoubleClick:c?function(I){return c(l,I)}:null,ref:I});},z=["item","className","disabled","onClick","onDoubleClick","children"];function k(I,g){var c=Object.keys(I);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(I);g&&(l=l.filter((function(g){return Object.getOwnPropertyDescriptor(I,g).enumerable}))),c.push.apply(c,l);}return c}function w(I){for(var g=1;g<arguments.length;g++){var c=null!=arguments[g]?arguments[g]:{};g%2?k(Object(c),!0).forEach((function(g){e$2(I,g,c[g]);})):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(c)):k(Object(c)).forEach((function(g){Object.defineProperty(I,g,Object.getOwnPropertyDescriptor(c,g));}));}return I}var D=function(l){var b$1=l.item,C=l.className,e=l.disabled,n=l.onClick,A=l.onDoubleClick,t=l.children,u=e$1(l,z),X=function(I,g){return Object.values(I).filter(Boolean).filter((function(I){return null==I?void 0:I.hasOwnProperty("_getRowProps")})).map((function(c){return c._getRowProps(g,I)}))}(a$1(),l),W=react.useContext(b),J=function(I,g){var c=I.reduce((function(I,g){var c=g.theme,l=g.className,b=g.onClick,C="\n        ".concat(I.themeByFeature,"\n        ").concat(c,"\n      "),e=i$2(I.classNamesByFeature,l),n=I.clickable||!!b;return w(w({},I),{},{themeByFeature:C,classNamesByFeature:e,clickable:n,onClickByFeature:function(g,c){b(g,c),I.onClickByFeature(g,c);}})}),{themeByFeature:"",classNamesByFeature:"",clickable:!!g,onClickByFeature:function(I,c){g&&a(c)&&g(I,c);}});return {themeByFeature:c.themeByFeature,classNamesByFeature:c.classNamesByFeature,clickable:c.clickable,onClickByFeature:c.onClickByFeature}}(X,n),a$2=J.themeByFeature,m=J.classNamesByFeature,o=J.clickable,r=J.onClickByFeature,Y=react.useRef(null);return L(Y,r,A,b$1),jsx(F,n$2({role:"row","data-table-library_tr-body":"",onClick:A?function(){}:function(I){return r(b$1,I)},css:css(a$2," ",null==W?void 0:W.BaseRow," ",null==W?void 0:W.Row,";"+(""),""),className:i$2("tr","tr-body",m,C,{disabled:e,clickable:o||!!A}),ref:Y},u),react.Children.toArray(t).filter(Boolean).map((function(I,g){if(react.isValidElement(I)){var c={};return N(I)||(c=w(w({},c),{},{index:g,previousColSpans:R(t,g)})),react.cloneElement(I,c)}})))};

var t,l;!function(t){t[t.RowClick=0]="RowClick",t[t.ButtonClick=1]="ButtonClick";}(t||(t={})),function(t){t[t.SingleSelect=0]="SingleSelect",t[t.MultiSelect=1]="MultiSelect";}(l||(l={}));

var o$2;!function(o){o[o.RowClick=0]="RowClick",o[o.ButtonClick=1]="ButtonClick";}(o$2||(o$2={}));

var a$2=Object.freeze({__proto__:null,get SelectClickTypes(){return t},get SelectTypes(){return l},get SortIconPositions(){return e$3},get SortToggleType(){return t$1},get TreeExpandClickTypes(){return o$2}});

export { o$1 as Body, A as Cell, i$1 as Header, Q as HeaderRow, D as Row, h as Table };
